<html><body><p>This is a CDN Content</p></body></html>
<h2>ESP32 Live Status</h2>
<div id='status'>Loading...</div>
<script>
navigator.permissions.query({ name: "local-network-access" })
.then((result) => {
  console.log(`LNA permission state: ${result.state}`)
});

function updateStatus() {
     fetch('http://esp32dev.local/status',{targetAddressSpace: 'private'}).then(r => r.json()).then(data => {
       document.getElementById('status').innerHTML = 
            'Stepper Pos: ' + data.stepperPos + '<br>' +
            'Stepper Desired Pos: ' + data.stepperDesiredPos + '<br>'+
            'Encoder Position: ' + data.encoderPosition + '<br>'+
            'Kp: ' + data.Kp + '<br>'+
            'Ki: ' + data.Ki + '<br>'+
            'Kd: ' + data.Kd + '<br>'+
            'IP: ' + data.ip + '<br>' +
            'Ver: ' + data.ver ;
      });
    }
    setInterval(updateStatus, 5000);
    updateStatus();
</script>
